<div *ngIf="!group || (group && group.resource.loaded && !assets.length)" class="no-items">
  <div class ="fill half relative text-right inline-block border-box padding-left-8 padding-right-16 padding-vert-32">
    <mat-icon class="sign">not_interested</mat-icon>
    <mat-icon class="bg front">folder</mat-icon>
    <mat-icon class="bg back right">description</mat-icon>
    <mat-icon class="bg back left">image</mat-icon>
  </div>
  <div class="fill half text-left inline-block border-box vert-align-top relative">
    <div class="absolute vert-center padding-right-16 border-box">
      <h3 class="mat-h3 no-margin-bottom">No assets found</h3>
      <span *ngIf="!group" class="mat-caption no-margin-top">Add an asset source and select it</span>
    </div>
  </div>
</div>

<div *ngIf="loading" class="text-center fill-height relative">
  <div class="absolute vert-center fill-width">
    <div class="inline-block text-center">
      <mat-spinner [diameter]="64"></mat-spinner>
    </div>
    <h4 class="mat-h4 opacity-50 margin-top-16">Loading assets...</h4>
  </div>
</div>

<mat-drawer-container class="fill-height">
  <mat-drawer mode="side" position="end" [opened]="!!selectedAsset">
    <ng-container *ngIf="selectedAsset">
      <h2 class="mat-h2">
        <mat-icon inline class="inline vert-align-top">{{ getIcon(selectedAsset) }}</mat-icon>
        <div class="name margin-left-16">{{ selectedAsset.resource.name }}</div>
        <button mat-icon-button class="pull-right" (click)="toggleAsset(selectedAsset)">
          <mat-icon>close</mat-icon>
        </button>
      </h2>
      <mat-divider></mat-divider>
      <div class="preview"
            dnd-draggable
            [dragEnabled]="true"
            [dragData]="selectedAsset"
            (dragstart)="onDragStart($event)">
        <div class="fill-width fill-height relative">
          <ng-template [yameAssetPreview]="selectedAsset"></ng-template>
        </div>
      </div>
      <mat-divider></mat-divider>
      <mat-grid-list cols="2" rowHeight="32px" class="margin-top-16">
        <mat-grid-tile class="mat-caption opacity-90">
          <div class="fill full text-left">Type</div>
        </mat-grid-tile>
        <mat-grid-tile class="mat-caption">
          <div class="fill full text-left">{{ selectedAsset?.type }}</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.size !== undefined" class="mat-caption opacity-90">
          <div class="fill full text-left">Size</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.size !== undefined" class="mat-caption">
          <div class="fill full text-left">{{ selectedAsset?.resource.size | bytes }} ({{ selectedAsset?.resource.size | number }} bytes)</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.created !== undefined" class="mat-caption opacity-90">
          <div class="fill full text-left">Created</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.created !== undefined" class="mat-caption">
          <div class="fill full text-left">{{ selectedAsset?.resource.created | date : 'medium' }}</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.changed !== undefined" class="mat-caption opacity-90">
          <div class="fill full text-left">Modified</div>
        </mat-grid-tile>
        <mat-grid-tile *ngIf="selectedAsset?.resource.changed !== undefined" class="mat-caption">
          <div class="fill full text-left">{{ selectedAsset?.resource.changed | date : 'medium' }}</div>
        </mat-grid-tile>
      </mat-grid-list>
    </ng-container>
  </mat-drawer>

  <div class="cards padding-bottom-4 flex wrap">
    <mat-card *ngFor="let asset of assets"
              dnd-draggable
              [dragEnabled]="true"
              [dragData]="asset"
              (dragstart)="onDragStart($event)"
              (click)="toggleAsset(asset)"
              class="margin-4"
              [class.mat-elevation-z8]="selectedAsset?.id === asset.id"
              [class.selected]="selectedAsset?.id === asset.id">
      <div class="preview">
        <div class="fill-width fill-height relative">
          <ng-template [yameAssetPreview]="asset"></ng-template>
        </div>
      </div>
      <mat-card-content>
        <mat-icon inline class="inline">{{ getIcon(asset) }}</mat-icon>
        <span class="mat-caption vert-align-bottom margin-left-8">{{ asset.resource.name }}</span>
      </mat-card-content>
    </mat-card>
  </div>

</mat-drawer-container>